# 9주차 개발 작업 명세서

## 1. 개요

기존 `Board` 게시판 목록 조회 기능에 **키워드 검색** 기능과 **페이징(Pagination)** 기능을 추가합니다. 이를 위해 Controller, Service, Repository 계층의 코드를 수정하여 `Pageable` 객체를 처리하고, `Page<T>` 타입으로 데이터를 반환받습니다. View(HTML)에는 검색창과 페이지 번호 네비게이션 UI를 구현합니다.

---

## 2. 작업 목록

### 2.1. 뷰 계층 (View / `board_list.html`)

1.  **검색창 `<form>` 추가**
    * `templates/board_list.html` 파일의 게시글 목록(`<table>`) 상단에 검색창을 추가합니다.
    * `<form>` 태그를 사용하고, `th:action="@{/board_list}"`, `method="get"`으로 설정합니다.
    * `<input type="text" name="keyword">`를 추가하여 검색어를 입력받습니다.
    * `th:value="${keyword}"` 속성을 `input` 태그에 추가하여, 검색 후에도 검색어가 입력창에 남아있도록 합니다.
    * `<button type="submit">` 태그로 검색 버튼을 생성합니다.

2.  **페이징 네비게이션 UI 추가**
    * `templates/board_list.html` 파일의 테이블 하단(또는 원하는 위치)에 페이지 번호를 표시할 네비게이션 UI를 추가합니다.
    * 부트스트랩의 `pagination` 클래스(`<ul>`, `<li>`)를 활용합니다.
    * **'이전' 버튼:**
        * `th:href="@{/board_list(page=${currentPage - 1}, keyword=${keyword})}"`를 사용하여 이전 페이지로 이동하는 링크를 생성합니다.
        * `th:classappend="${currentPage == 0} ? 'disabled'"`를 사용하여 1페이지일 경우 버튼을 비활성화합니다.
    * **페이지 번호 버튼:**
        * `th:each="i: ${#numbers.sequence(0, totalPages - 1)}"`를 사용하여 총 페이지 수만큼 숫자 버튼을 반복 생성합니다. (단, `totalPages`가 0일 경우 에러가 날 수 있으니 `totalPages > 0`일 때만 동작하도록 `th:if` 추가 권장)
        * `th:href="@{/board_list(page=${i}, keyword=${keyword})}"`를 사용하여 해당 페이지로 이동하는 링크를 생성합니다.
        * `th:text="${i + 1}"`로 페이지 번호를 1부터 표시합니다.
        * `th:classappend="${i == currentPage} ? 'active'"`를 사용하여 현재 페이지 버튼을 활성화(active) 표시합니다.
    * **'다음' 버튼:**
        * `th:href="@{/board_list(page=${currentPage + 1}, keyword=${keyword})}"`를 사용하여 다음 페이지로 이동하는 링크를 생성합니다.
        * `th:classappend="${currentPage + 1 >= totalPages} ? 'disabled'"`를 사용하여 마지막 페이지일 경우 버튼을 비활성화합니다.

### 2.2. 프레젠테이션 계층 (Controller / `BlogController.java`)

1.  **`/board_list` (GET) 메소드 수정**
    * 기존 `board_list` 메소드를 9주차 PDF(p.17) 내용으로 **수정**합니다.
    * **파라미터 추가:**
        * `@RequestParam(defaultValue = "0") int page`: `page` 파라미터를 받으며, 값이 없으면 기본 0페이지로 설정합니다.
        * `@RequestParam(defaultValue = "") String keyword`: `keyword` 파라미터를 받으며, 값이 없으면 빈 문자열로 설정합니다.
    * **`Pageable` 객체 생성:**
        * `PageRequest pageable = PageRequest.of(page, 3);` 코드를 추가하여, **페이지 번호(page)와 한 페이지당 게시글 수(size)**를 `Pageable` 객체로 생성합니다. (PDF에서는 3개로 설정함,)
    * **반환 타입 변경:**
        * Service 호출 시 반환 타입을 `List<Board>`에서 `Page<Board>`로 변경합니다. (예: `Page<Board> list;`)
    * **검색 로직 분기:**
        * `if (keyword.isEmpty()) { ... } else { ... }` 분기문을 추가합니다.
        * `keyword`가 비어있으면 `list = blogService.findAll(pageable);` (페이징 전체 조회)를 호출합니다.
        * `keyword`가 있으면 `list = blogService.searchByKeyword(keyword, pageable);` (페이징 키워드 검색)를 호출합니다.
    * **Model에 페이징/검색 정보 추가:**
        * `model.addAttribute("boards", list);`: `Page<Board>` 객체 자체를 전달합니다.